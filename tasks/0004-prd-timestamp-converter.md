# PRD: Epoch/Unix Timestamp 변환기

**작성일**: 2025-11-21
**상태**: 준비 완료

---

## 📋 개요

Unix Timestamp(Epoch 시간)를 사람이 읽을 수 있는 날짜 및 시간으로 변환하는 도구입니다. DB 로그, API 응답, 시스템 로그 등에서 자주 보는 숫자 형태의 시간값을 빠르게 확인할 수 있습니다. KST(한국 표준시)와 UTC 동시 표시로 국제 협업 시에도 유용합니다.

---

## 🎯 목표

1. Unix Timestamp → 날짜/시간으로 변환
2. 날짜/시간 → Unix Timestamp로 변환
3. 초(s)와 밀리초(ms) 자동 감지 및 변환
4. KST(한국 표준시)와 UTC 동시 표시
5. 타임존 선택 기능 (선택사항)
6. 모든 변환을 클라이언트에서 처리

---

## 👥 사용자 스토리

**AS A** 백엔드 개발자
**I WANT TO** DB 로그의 `1712345678` 같은 숫자를 읽을 수 있는 시간으로 변환
**SO THAT** 문제 발생 시점을 빠르게 파악할 수 있습니다.

**AS A** DevOps 엔지니어
**I WANT TO** 서버 시간값을 한국 시간과 UTC 둘 다 확인
**SO THAT** 글로벌 팀과 시간 차이 없이 협력할 수 있습니다.

**AS A** QA 테스터
**I WANT TO** 특정 시간을 Unix Timestamp로 변환해서 테스트 데이터 생성
**SO THAT** 시간 기반 테스트를 더 쉽게 할 수 있습니다.

---

## ✅ 기능 요구사항

### 4.1 Timestamp → 날짜/시간 변환

1. **입력**: Timestamp 숫자
   - 예: `1712345678` (초 단위)
   - 예: `1712345678000` (밀리초 단위)

2. **기능**:
   - 자동 단위 감지:
     - 10자리 이하 (1-9,999,999,999) → 초(s)로 해석
     - 13자리 (1,000,000,000,000 이상) → 밀리초(ms)로 해석
   - UTC 시간 표시
   - KST 시간 표시
   - ISO 8601 형식 표시
   - 상대 시간 표시 (예: "2시간 전", "내일" 등)

3. **출력**: 여러 형식으로 표시
   ```
   Timestamp: 1712345678

   UTC: 2025-04-05 02:34:38
   KST: 2025-04-05 11:34:38 (UTC+9)

   ISO 8601: 2025-04-05T02:34:38Z

   상대 시간: 3개월 전
   요일: 토요일
   ```

### 4.2 날짜/시간 → Timestamp 변환

1. **입력**: 날짜/시간 문자열 또는 선택기
   - 예: `2025-04-05 11:34:38`
   - 예: `2025-04-05T11:34:38`
   - UI: 날짜/시간 선택 입력 (Input type="datetime-local")

2. **기능**:
   - 다양한 날짜 형식 파싱:
     - `YYYY-MM-DD HH:mm:ss`
     - `YYYY-MM-DDTHH:mm:ss`
     - `MM/DD/YYYY` (미국 형식)
     - `DD/MM/YYYY` (유럽 형식)
   - 타임존 지정 (KST, UTC, 기타)
   - 단위 선택 (초 vs 밀리초)

3. **출력**: Timestamp 숫자
   ```
   입력: 2025-04-05 11:34:38 (KST)
   출력 (초): 1712345678
   출력 (밀리초): 1712345678000
   ```

### 4.3 타임존 지원

- **기본 타임존**:
  - KST (UTC+9) - 기본값
  - UTC (UTC+0)
  - JST (UTC+9)
  - CST (UTC+8)
  - EST (UTC-5)
  - PST (UTC-8)

- **커스텀 타임존**:
  - 사용자가 원하는 타임존 입력 (예: UTC+5:30)

### 4.4 추가 기능

#### 현재 시간
- "지금"과 "현재 Timestamp" 버튼으로 빠른 변환

#### 시간 차이 계산
- 두 Timestamp 간 차이 계산
- 결과: "N일 M시간 S초" 형식

#### 배치 변환 (선택사항)
- 여러 Timestamp 한번에 변환
- 한 줄에 하나씩

### 4.5 UI/UX

- **좌측**: Timestamp 입력 (TextArea 또는 Input)
- **우측**: 변환 결과 (Card)
- **탭 전환**: Timestamp→날짜, 날짜→Timestamp
- **옵션**:
  - 타임존 선택 (드롭다운)
  - 단위 선택 (초 vs 밀리초)
  - 날짜 형식 선택

- **버튼**:
  - "변환"
  - "지금"
  - "복사"
  - "초기화"

- **에러 표시**:
  - 잘못된 형식
  - 범위 초과 (너무 크거나 작은 값)

---

## 📌 비포함 항목 (Out of Scope)

- 윤초(Leap Second) 계산
- 역사적 타임존 변경 고려 (썸머타임 미세 조정)
- 특정 달력 시스템 (음력 등)
- 시간대별 공휴일 처리

---

## 🎨 디자인 고려사항

- Shadcn Input으로 날짜/시간 선택
- Card 컴포넌트로 변환 결과 표시
- 실시간 변환 (입력 시 자동)
- 복사 버튼으로 빠른 복사
- 현재 시간 한눈에 표시

---

## 🔧 기술 고려사항

### 구현 라이브러리

1. **날짜 처리**: `date-fns` 또는 `dayjs`
   ```js
   import { format, parse, fromUnixTime } from 'date-fns';
   import { utcToZonedTime, zonedTimeToUtc } from 'date-fns-tz';
   ```

2. **Timestamp 변환**:
   ```js
   // Timestamp → Date
   const date = new Date(timestamp * 1000); // 초 단위인 경우

   // Date → Timestamp
   const timestamp = Math.floor(date.getTime() / 1000);
   ```

3. **타임존 처리**:
   - `date-fns-tz` 라이브러리 활용
   - Intl API 활용 (기본 제공)

### 클라이언트 사이드 처리

- 모든 변환은 브라우저에서만 실행
- 서버 통신 없음

---

## 📊 성공 메트릭

1. **변환 정확도**: 100% 정확한 변환
2. **단위 감지**: 자동 감지 성공률 99%
3. **타임존 지원**: KST, UTC 정확한 변환
4. **응답 속도**: 1ms 이내 변환
5. **에러 처리**: 잘못된 입력에 대한 명확한 안내

---

## 🤔 미해결 질문

1. 상대 시간 표시 (예: "2시간 전") 을 다국어로 지원할까?
2. 윤초 보정이 필요한가?
3. 과거 역사적 시간(1970년 전) 지원할까?
4. 배치 변환은 필수 기능일까?

---

**문서 버전**: 1.0
**마지막 수정**: 2025-11-21
